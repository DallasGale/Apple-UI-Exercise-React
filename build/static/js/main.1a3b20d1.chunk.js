(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),s=n(8),c=n.n(s),o=(n(15),n(1)),r=n(2),l=n(5),u=n(4),v=n(6),d=n(3),h=function(e){var t=e.children;return a.a.createElement("nav",{id:"nav",className:"nav"},t)},m="https://raw.githubusercontent.com/dgale1983/Apple-UI-Exercise-React/master/src/_navigation.json",f=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).refCallBack=function(e){if(e){var t=e.getBoundingClientRect();n.setState({linePosition:Math.round(t.left)+"px",lineWidth:Math.round(t.width)+"px"})}},n.responsiveUpdate=function(){for(var e=document.getElementsByClassName("active"),t=0;t<e.length;t++){var i=e[t].getBoundingClientRect();n.setState({linePosition:Math.round(i.left),lineWidth:Math.round(i.width),transitionFx:!1})}},n._getData=function(){fetch(m).then(function(e){return console.log(e.status),e.ok?e.json():void 0}).then(function(e){var t=e.cities.map(function(e){return e});n.setState({navigation:t})}).catch(function(e){var t="There was an issue resolving the API.",i=e;n.setState({fetchApi:!0,errorMessage:t,errorStatus:i}),console.log(t+i)})},n.state={activeIndex:1,activeClick:!1,errorMessage:null,errorStatus:null,fetchApi:!1,firstLinkActive:!0,linePosition:0,lineWidth:0,navigation:[],transitionFx:null},n.toggleActiveClass=n.toggleActiveClass.bind(Object(d.a)(n)),n}return Object(v.a)(t,e),Object(r.a)(t,[{key:"toggleActiveClass",value:function(e,t){t.preventDefault();var n=t.target.getBoundingClientRect();this.setState({activeIndex:e,activeClick:!this.state.activeClick,firstLinkActive:!1,linePosition:n.left,lineWidth:n.width,transitionFx:!0})}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.responsiveUpdate),this._getData()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.responsiveUpdate)}},{key:"render",value:function(){var e=this,t=1,n=this.state.navigation;return a.a.createElement("div",{className:"content"},this.state.fetchApi?a.a.createElement("div",null,a.a.createElement("div",{className:"error"},this.state.errorMessage+this.state.errorStatus)):a.a.createElement(h,null,a.a.createElement("ul",{id:"nav-list",className:"nav-list"},n.slice(0,1).map(function(n){return a.a.createElement("li",{key:n.section,className:"nav-list__items"},a.a.createElement("a",{onClick:e.toggleActiveClass.bind(e,t),ref:e.refCallBack,id:n.section,className:"nav-list__items-link ".concat(e.state.firstLinkActive?"active":""),href:"#".concat(n.section),tabIndex:t++},n.label))}),n.slice(1).map(function(n){return a.a.createElement("li",{key:n.section,className:"nav-list__items"},a.a.createElement("a",{onClick:e.toggleActiveClass.bind(e,t),id:n.section,className:"nav-list__items-link\n                            ".concat(e.state.activeIndex===t?"active":""),href:"#".concat(n.section),tabIndex:t++},n.label))}),a.a.createElement("div",{id:"active-nav-line",className:"active-nav-line ".concat(this.state.transitionFx?"setLineTransition":""),style:{width:this.state.lineWidth,left:this.state.linePosition}}))))}}]),t}(i.Component),g=(n(16),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return a.a.createElement(f,null)}}]),t}(i.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,n){e.exports=n(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.1a3b20d1.chunk.js.map